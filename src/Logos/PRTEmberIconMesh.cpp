// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
#include "stdafx.h"

#include <boost/smart_ptr.hpp>
#include <mesh.h>

#if MAX_VERSION_MAJOR >= 25
#include <SharedMesh.h>
#endif

namespace {
// 496 vertices
float verts[] = { -0.28762f,  -0.37371f,  0.0f, -0.287831f,  -0.37121f,  0.0f, -0.288181f,  -0.36882f,  0.0f,
                  -0.288672f, -0.366539f, 0.0f, -0.289304f,  -0.364367f, 0.0f, -0.290075f,  -0.362304f, 0.0f,
                  -0.290987f, -0.36035f,  0.0f, -0.292032f,  -0.3585f,   0.0f, -0.293202f,  -0.356746f, 0.0f,
                  -0.294497f, -0.355091f, 0.0f, -0.295919f,  -0.353532f, 0.0f, -0.297465f,  -0.352071f, 0.0f,
                  -0.299137f, -0.350708f, 0.0f, -0.300935f,  -0.349442f, 0.0f, -0.302518f,  -0.348466f, 0.0f,
                  -0.304168f, -0.347563f, 0.0f, -0.305884f,  -0.346732f, 0.0f, -0.307667f,  -0.345973f, 0.0f,
                  -0.309517f, -0.345287f, 0.0f, -0.311433f,  -0.344672f, 0.0f, -0.313415f,  -0.34413f,  0.0f,
                  -0.315497f, -0.343661f, 0.0f, -0.31771f,   -0.343263f, 0.0f, -0.320054f,  -0.342938f, 0.0f,
                  -0.322529f, -0.342685f, 0.0f, -0.325136f,  -0.342505f, 0.0f, -0.327875f,  -0.342396f, 0.0f,
                  -0.330744f, -0.34236f,  0.0f, -0.37647f,   -0.34236f,  0.0f, -0.37647f,   -0.45f,     0.0f,
                  -0.34875f,  -0.45f,     0.0f, -0.34875f,   -0.4149f,   0.0f, -0.331439f,  -0.4149f,   0.0f,
                  -0.328146f, -0.414834f, 0.0f, -0.32501f,   -0.414635f, 0.0f, -0.322033f,  -0.414303f, 0.0f,
                  -0.319213f, -0.413838f, 0.0f, -0.316552f,  -0.413241f, 0.0f, -0.314049f,  -0.412511f, 0.0f,
                  -0.311704f, -0.411649f, 0.0f, -0.309468f,  -0.410656f, 0.0f, -0.307293f,  -0.409537f, 0.0f,
                  -0.305178f, -0.408291f, 0.0f, -0.303124f,  -0.406918f, 0.0f, -0.301131f,  -0.405418f, 0.0f,
                  -0.299198f, -0.403792f, 0.0f, -0.297326f,  -0.402038f, 0.0f, -0.296026f,  -0.400652f, 0.0f,
                  -0.294815f, -0.399176f, 0.0f, -0.293692f,  -0.39761f,  0.0f, -0.292657f,  -0.395953f, 0.0f,
                  -0.291712f, -0.394207f, 0.0f, -0.290854f,  -0.39237f,  0.0f, -0.290086f,  -0.390444f, 0.0f,
                  -0.289413f, -0.388466f, 0.0f, -0.288844f,  -0.386474f, 0.0f, -0.288378f,  -0.38447f,  0.0f,
                  -0.288016f, -0.382452f, 0.0f, -0.287757f,  -0.38042f,  0.0f, -0.287602f,  -0.378376f, 0.0f,
                  -0.28755f,  -0.376318f, 0.0f, -0.316374f,  -0.378336f, 0.0f, -0.316447f,  -0.379557f, 0.0f,
                  -0.316569f, -0.380721f, 0.0f, -0.31674f,   -0.381829f, 0.0f, -0.316959f,  -0.382879f, 0.0f,
                  -0.317227f, -0.383873f, 0.0f, -0.317544f,  -0.384809f, 0.0f, -0.317915f,  -0.385699f, 0.0f,
                  -0.318347f, -0.386552f, 0.0f, -0.318839f,  -0.387369f, 0.0f, -0.319392f,  -0.38815f,  0.0f,
                  -0.320005f, -0.388894f, 0.0f, -0.320679f,  -0.389602f, 0.0f, -0.321413f,  -0.390274f, 0.0f,
                  -0.322332f, -0.390973f, 0.0f, -0.323311f,  -0.391603f, 0.0f, -0.324351f,  -0.392163f, 0.0f,
                  -0.325451f, -0.392652f, 0.0f, -0.326612f,  -0.393072f, 0.0f, -0.327833f,  -0.393422f, 0.0f,
                  -0.329115f, -0.393702f, 0.0f, -0.330477f,  -0.39393f,  0.0f, -0.331942f,  -0.394122f, 0.0f,
                  -0.333509f, -0.39428f,  0.0f, -0.335177f,  -0.394402f, 0.0f, -0.336947f,  -0.39449f,  0.0f,
                  -0.338819f, -0.394542f, 0.0f, -0.340793f,  -0.39456f,  0.0f, -0.34875f,   -0.39456f,  0.0f,
                  -0.34875f,  -0.3627f,   0.0f, -0.343977f,  -0.3627f,   0.0f, -0.332985f,  -0.362879f, 0.0f,
                  -0.331803f, -0.362961f, 0.0f, -0.330612f,  -0.363106f, 0.0f, -0.329412f,  -0.363314f, 0.0f,
                  -0.328203f, -0.363585f, 0.0f, -0.326985f,  -0.363918f, 0.0f, -0.325759f,  -0.364314f, 0.0f,
                  -0.324523f, -0.364773f, 0.0f, -0.32361f,   -0.36518f,  0.0f, -0.322729f,  -0.365668f, 0.0f,
                  -0.32188f,  -0.366235f, 0.0f, -0.321064f,  -0.366883f, 0.0f, -0.32028f,   -0.367611f, 0.0f,
                  -0.319529f, -0.368419f, 0.0f, -0.31881f,   -0.369308f, 0.0f, -0.318157f,  -0.370262f, 0.0f,
                  -0.317605f, -0.371267f, 0.0f, -0.317153f,  -0.372323f, 0.0f, -0.316802f,  -0.37343f,  0.0f,
                  -0.316551f, -0.374588f, 0.0f, -0.3164f,    -0.375798f, 0.0f, -0.31635f,   -0.377058f, 0.0f,
                  -0.207477f, -0.376487f, 0.0f, -0.207559f,  -0.377668f, 0.0f, -0.207696f,  -0.378773f, 0.0f,
                  -0.207887f, -0.379804f, 0.0f, -0.208132f,  -0.38076f,  0.0f, -0.208433f,  -0.381642f, 0.0f,
                  -0.208787f, -0.382449f, 0.0f, -0.209201f,  -0.38321f,  0.0f, -0.209679f,  -0.383951f, 0.0f,
                  -0.21022f,  -0.384673f, 0.0f, -0.210824f,  -0.385375f, 0.0f, -0.211492f,  -0.386059f, 0.0f,
                  -0.212224f, -0.386723f, 0.0f, -0.213019f,  -0.387368f, 0.0f, -0.213916f,  -0.387991f, 0.0f,
                  -0.214873f, -0.388547f, 0.0f, -0.215888f,  -0.389035f, 0.0f, -0.216962f,  -0.389455f, 0.0f,
                  -0.218096f, -0.389809f, 0.0f, -0.219288f,  -0.390095f, 0.0f, -0.220539f,  -0.390313f, 0.0f,
                  -0.221865f, -0.390485f, 0.0f, -0.223278f,  -0.39063f,  0.0f, -0.224781f,  -0.390749f, 0.0f,
                  -0.226372f, -0.390841f, 0.0f, -0.228052f,  -0.390907f, 0.0f, -0.22982f,   -0.390947f, 0.0f,
                  -0.231677f, -0.39096f,  0.0f, -0.24021f,   -0.39096f,  0.0f, -0.24021f,   -0.36216f,  0.0f,
                  -0.230158f, -0.36216f,  0.0f, -0.221408f,  -0.362412f, 0.0f, -0.220353f,  -0.362502f, 0.0f,
                  -0.219336f, -0.362629f, 0.0f, -0.218358f,  -0.362792f, 0.0f, -0.217418f,  -0.362992f, 0.0f,
                  -0.216516f, -0.363228f, 0.0f, -0.215652f,  -0.363501f, 0.0f, -0.214827f,  -0.363811f, 0.0f,
                  -0.213719f, -0.364308f, 0.0f, -0.212708f,  -0.364855f, 0.0f, -0.211794f,  -0.365452f, 0.0f,
                  -0.210978f, -0.366099f, 0.0f, -0.210259f,  -0.366795f, 0.0f, -0.209638f,  -0.367542f, 0.0f,
                  -0.209114f, -0.368338f, 0.0f, -0.208672f,  -0.369182f, 0.0f, -0.208299f,  -0.370073f, 0.0f,
                  -0.207993f, -0.371011f, 0.0f, -0.207756f,  -0.371996f, 0.0f, -0.207586f,  -0.373028f, 0.0f,
                  -0.207484f, -0.374107f, 0.0f, -0.20745f,   -0.375232f, 0.0f, -0.200067f,  -0.403926f, 0.0f,
                  -0.197218f, -0.402448f, 0.0f, -0.194564f,  -0.400866f, 0.0f, -0.192103f,  -0.399182f, 0.0f,
                  -0.189837f, -0.397394f, 0.0f, -0.187765f,  -0.395502f, 0.0f, -0.185887f,  -0.393508f, 0.0f,
                  -0.184203f, -0.39141f,  0.0f, -0.18273f,   -0.38917f,  0.0f, -0.181483f,  -0.386751f, 0.0f,
                  -0.180463f, -0.384151f, 0.0f, -0.17967f,   -0.381371f, 0.0f, -0.179103f,  -0.378411f, 0.0f,
                  -0.178763f, -0.375271f, 0.0f, -0.17865f,   -0.37195f,  0.0f, -0.178723f,  -0.369529f, 0.0f,
                  -0.178943f, -0.367228f, 0.0f, -0.179309f,  -0.365047f, 0.0f, -0.179821f,  -0.362985f, 0.0f,
                  -0.18048f,  -0.361042f, 0.0f, -0.181286f,  -0.35922f,  0.0f, -0.182237f,  -0.357517f, 0.0f,
                  -0.183313f, -0.355917f, 0.0f, -0.184491f,  -0.354404f, 0.0f, -0.185771f,  -0.352979f, 0.0f,
                  -0.187153f, -0.35164f,  0.0f, -0.188637f,  -0.350389f, 0.0f, -0.190223f,  -0.349225f, 0.0f,
                  -0.191911f, -0.348148f, 0.0f, -0.193648f,  -0.347166f, 0.0f, -0.195419f,  -0.346288f, 0.0f,
                  -0.197227f, -0.345513f, 0.0f, -0.19907f,   -0.344841f, 0.0f, -0.200948f,  -0.344273f, 0.0f,
                  -0.202861f, -0.343807f, 0.0f, -0.204811f,  -0.343446f, 0.0f, -0.206832f,  -0.343158f, 0.0f,
                  -0.208963f, -0.342914f, 0.0f, -0.211204f,  -0.342714f, 0.0f, -0.213554f,  -0.342559f, 0.0f,
                  -0.216014f, -0.342449f, 0.0f, -0.218583f,  -0.342382f, 0.0f, -0.221262f,  -0.34236f,  0.0f,
                  -0.26793f,  -0.34236f,  0.0f, -0.26793f,   -0.45f,     0.0f, -0.24021f,   -0.45f,     0.0f,
                  -0.24021f,  -0.41058f,  0.0f, -0.22743f,   -0.41058f,  0.0f, -0.198104f,  -0.45f,     0.0f,
                  -0.16407f,  -0.45f,     0.0f, -0.06777f,   -0.34236f,  0.0f, -0.16281f,   -0.34236f,  0.0f,
                  -0.16281f,  -0.36324f,  0.0f, -0.12915f,   -0.36324f,  0.0f, -0.12915f,   -0.45f,     0.0f,
                  -0.10143f,  -0.45f,     0.0f, -0.10143f,   -0.36324f,  0.0f, -0.06777f,   -0.36324f,  0.0f,
                  0.08019f,   -0.34236f,  0.0f, 0.00297001f, -0.34236f,  0.0f, 0.00297001f, -0.45f,     0.0f,
                  0.03069f,   -0.45f,     0.0f, 0.03069f,    -0.4041f,   0.0f, 0.07659f,    -0.4041f,   0.0f,
                  0.07659f,   -0.38322f,  0.0f, 0.03069f,    -0.38322f,  0.0f, 0.03069f,    -0.36324f,  0.0f,
                  0.08019f,   -0.36324f,  0.0f, 0.12393f,    -0.36882f,  0.0f, 0.09783f,    -0.36882f,  0.0f,
                  0.09783f,   -0.45f,     0.0f, 0.12393f,    -0.45f,     0.0f, 0.12465f,    -0.3375f,   0.0f,
                  0.09711f,   -0.3375f,   0.0f, 0.09711f,    -0.3573f,   0.0f, 0.12465f,    -0.3573f,   0.0f,
                  0.22851f,   -0.405082f, 0.0f, 0.228306f,   -0.399896f, 0.0f, 0.227694f,   -0.395068f, 0.0f,
                  0.226674f,  -0.390599f, 0.0f, 0.225247f,   -0.386488f, 0.0f, 0.223411f,   -0.382735f, 0.0f,
                  0.221167f,  -0.37934f,  0.0f, 0.218516f,   -0.376303f, 0.0f, 0.215459f,   -0.373649f, 0.0f,
                  0.212001f,  -0.371403f, 0.0f, 0.20814f,    -0.369566f, 0.0f, 0.203877f,   -0.368137f, 0.0f,
                  0.199212f,  -0.367117f, 0.0f, 0.194146f,   -0.366504f, 0.0f, 0.188677f,   -0.3663f,   0.0f,
                  0.182718f,  -0.36654f,  0.0f, 0.177133f,   -0.367259f, 0.0f, 0.171922f,   -0.368457f, 0.0f,
                  0.167085f,  -0.370135f, 0.0f, 0.162622f,   -0.372292f, 0.0f, 0.158533f,   -0.374929f, 0.0f,
                  0.154818f,  -0.378045f, 0.0f, 0.151542f,   -0.381571f, 0.0f, 0.14877f,    -0.385438f, 0.0f,
                  0.146502f,  -0.389645f, 0.0f, 0.144738f,   -0.394193f, 0.0f, 0.143478f,   -0.399081f, 0.0f,
                  0.142722f,  -0.40431f,  0.0f, 0.14247f,    -0.40988f,  0.0f, 0.142736f,   -0.415492f, 0.0f,
                  0.143535f,  -0.420724f, 0.0f, 0.144867f,   -0.425575f, 0.0f, 0.146731f,   -0.430046f, 0.0f,
                  0.149127f,  -0.434136f, 0.0f, 0.152057f,   -0.437845f, 0.0f, 0.155519f,   -0.441174f, 0.0f,
                  0.159481f,  -0.444089f, 0.0f, 0.16391f,    -0.446555f, 0.0f, 0.168807f,   -0.448573f, 0.0f,
                  0.174171f,  -0.450142f, 0.0f, 0.180003f,   -0.451263f, 0.0f, 0.186303f,   -0.451936f, 0.0f,
                  0.19307f,   -0.45216f,  0.0f, 0.195749f,   -0.452127f, 0.0f, 0.198361f,   -0.45203f,  0.0f,
                  0.200904f,  -0.451867f, 0.0f, 0.203379f,   -0.451639f, 0.0f, 0.205786f,   -0.451346f, 0.0f,
                  0.208125f,  -0.450987f, 0.0f, 0.210396f,   -0.450564f, 0.0f, 0.212654f,   -0.450068f, 0.0f,
                  0.214953f,  -0.449492f, 0.0f, 0.217293f,   -0.448836f, 0.0f, 0.219675f,   -0.4481f,   0.0f,
                  0.222099f,  -0.447284f, 0.0f, 0.224564f,   -0.446389f, 0.0f, 0.22707f,    -0.445413f, 0.0f,
                  0.22707f,   -0.42444f,  0.0f, 0.224156f,   -0.42444f,  0.0f, 0.222799f,   -0.425424f, 0.0f,
                  0.221308f,  -0.42639f,  0.0f, 0.219683f,   -0.427338f, 0.0f, 0.217924f,   -0.428268f, 0.0f,
                  0.216031f,  -0.429179f, 0.0f, 0.214005f,   -0.430073f, 0.0f, 0.211845f,   -0.430948f, 0.0f,
                  0.209607f,  -0.431752f, 0.0f, 0.207349f,   -0.432433f, 0.0f, 0.20507f,    -0.43299f,  0.0f,
                  0.20277f,   -0.433423f, 0.0f, 0.200449f,   -0.433732f, 0.0f, 0.198107f,   -0.433918f, 0.0f,
                  0.195744f,  -0.43398f,  0.0f, 0.192127f,   -0.433876f, 0.0f, 0.188771f,   -0.433564f, 0.0f,
                  0.185674f,  -0.433044f, 0.0f, 0.182838f,   -0.432316f, 0.0f, 0.180262f,   -0.43138f,  0.0f,
                  0.177946f,  -0.430236f, 0.0f, 0.175891f,   -0.428884f, 0.0f, 0.174091f,   -0.427336f, 0.0f,
                  0.172543f,  -0.425603f, 0.0f, 0.171246f,   -0.423687f, 0.0f, 0.1702f,     -0.421586f, 0.0f,
                  0.169405f,  -0.419302f, 0.0f, 0.168862f,   -0.416833f, 0.0f, 0.16857f,    -0.41418f,  0.0f,
                  0.22851f,   -0.41418f,  0.0f, 0.168497f,   -0.39888f,  0.0f, 0.168751f,   -0.396522f, 0.0f,
                  0.169179f,  -0.394356f, 0.0f, 0.169782f,   -0.392381f, 0.0f, 0.17056f,    -0.390598f, 0.0f,
                  0.171513f,  -0.389006f, 0.0f, 0.172641f,   -0.387606f, 0.0f, 0.173943f,   -0.386397f, 0.0f,
                  0.175388f,  -0.385363f, 0.0f, 0.176942f,   -0.384488f, 0.0f, 0.178607f,   -0.383772f, 0.0f,
                  0.180381f,  -0.383216f, 0.0f, 0.182265f,   -0.382818f, 0.0f, 0.184258f,   -0.38258f,  0.0f,
                  0.186362f,  -0.3825f,   0.0f, 0.188598f,   -0.382584f, 0.0f, 0.19066f,    -0.382836f, 0.0f,
                  0.192547f,  -0.383255f, 0.0f, 0.194258f,   -0.383843f, 0.0f, 0.195795f,   -0.384599f, 0.0f,
                  0.197157f,  -0.385522f, 0.0f, 0.198345f,   -0.386613f, 0.0f, 0.19937f,    -0.387871f, 0.0f,
                  0.200247f,  -0.389294f, 0.0f, 0.200976f,   -0.390881f, 0.0f, 0.201557f,   -0.392633f, 0.0f,
                  0.20199f,   -0.394551f, 0.0f, 0.202274f,   -0.396633f, 0.0f, 0.20241f,    -0.39888f,  0.0f,
                  0.27297f,   -0.3375f,   0.0f, 0.24687f,    -0.3375f,   0.0f, 0.24687f,    -0.45f,     0.0f,
                  0.27297f,   -0.45f,     0.0f, 0.37647f,    -0.3375f,   0.0f, 0.35037f,    -0.3375f,   0.0f,
                  0.35037f,   -0.371976f, 0.0f, 0.348967f,   -0.37131f,  0.0f, 0.347574f,   -0.370679f, 0.0f,
                  0.346191f,  -0.370082f, 0.0f, 0.344819f,   -0.369519f, 0.0f, 0.343457f,   -0.36899f,  0.0f,
                  0.342106f,  -0.368495f, 0.0f, 0.340765f,   -0.368034f, 0.0f, 0.339376f,   -0.367622f, 0.0f,
                  0.337878f,  -0.367273f, 0.0f, 0.336273f,   -0.366987f, 0.0f, 0.334559f,   -0.366765f, 0.0f,
                  0.332737f,  -0.366607f, 0.0f, 0.330808f,   -0.366512f, 0.0f, 0.32877f,    -0.36648f,  0.0f,
                  0.326761f,  -0.366541f, 0.0f, 0.324752f,   -0.366725f, 0.0f, 0.322743f,   -0.367031f, 0.0f,
                  0.320734f,  -0.36746f,  0.0f, 0.318725f,   -0.368011f, 0.0f, 0.316715f,   -0.368685f, 0.0f,
                  0.314706f,  -0.369481f, 0.0f, 0.31274f,    -0.370388f, 0.0f, 0.310859f,   -0.371393f, 0.0f,
                  0.309065f,  -0.372498f, 0.0f, 0.307356f,   -0.373701f, 0.0f, 0.305734f,   -0.375003f, 0.0f,
                  0.304197f,  -0.376404f, 0.0f, 0.302746f,   -0.377904f, 0.0f, 0.3013f,     -0.379583f, 0.0f,
                  0.299944f,  -0.381354f, 0.0f, 0.298678f,   -0.383219f, 0.0f, 0.297503f,   -0.385176f, 0.0f,
                  0.296417f,  -0.387226f, 0.0f, 0.295423f,   -0.389369f, 0.0f, 0.294518f,   -0.391605f, 0.0f,
                  0.29372f,   -0.393936f, 0.0f, 0.293045f,   -0.396363f, 0.0f, 0.292492f,   -0.398885f, 0.0f,
                  0.292063f,  -0.401504f, 0.0f, 0.291756f,   -0.404218f, 0.0f, 0.291571f,   -0.407029f, 0.0f,
                  0.29151f,   -0.409936f, 0.0f, 0.291692f,   -0.415309f, 0.0f, 0.292238f,   -0.420358f, 0.0f,
                  0.293148f,  -0.425083f, 0.0f, 0.294421f,   -0.429483f, 0.0f, 0.296059f,   -0.433558f, 0.0f,
                  0.29806f,   -0.437309f, 0.0f, 0.300426f,   -0.440736f, 0.0f, 0.303094f,   -0.443767f, 0.0f,
                  0.306006f,  -0.446331f, 0.0f, 0.30916f,    -0.44843f,  0.0f, 0.312556f,   -0.450062f, 0.0f,
                  0.316196f,  -0.451227f, 0.0f, 0.320078f,   -0.451927f, 0.0f, 0.324203f,   -0.45216f,  0.0f,
                  0.326361f,  -0.452108f, 0.0f, 0.328445f,   -0.451951f, 0.0f, 0.330456f,   -0.451689f, 0.0f,
                  0.332392f,  -0.451323f, 0.0f, 0.334255f,   -0.450853f, 0.0f, 0.336043f,   -0.450278f, 0.0f,
                  0.337757f,  -0.449598f, 0.0f, 0.339453f,   -0.448806f, 0.0f, 0.341183f,   -0.447894f, 0.0f,
                  0.34295f,   -0.446862f, 0.0f, 0.344751f,   -0.445711f, 0.0f, 0.346589f,   -0.444439f, 0.0f,
                  0.348462f,  -0.443048f, 0.0f, 0.35037f,    -0.441537f, 0.0f, 0.35037f,    -0.45f,     0.0f,
                  0.37647f,   -0.45f,     0.0f, 0.349484f,   -0.428124f, 0.0f, 0.348559f,   -0.428692f, 0.0f,
                  0.347597f,  -0.429226f, 0.0f, 0.346596f,   -0.429727f, 0.0f, 0.345556f,   -0.430193f, 0.0f,
                  0.344479f,  -0.430625f, 0.0f, 0.343363f,   -0.431024f, 0.0f, 0.342237f,   -0.431378f, 0.0f,
                  0.341128f,  -0.431678f, 0.0f, 0.340037f,   -0.431924f, 0.0f, 0.338964f,   -0.432115f, 0.0f,
                  0.337908f,  -0.432251f, 0.0f, 0.33687f,    -0.432333f, 0.0f, 0.335849f,   -0.43236f,  0.0f,
                  0.33335f,   -0.43225f,  0.0f, 0.331054f,   -0.431921f, 0.0f, 0.328962f,   -0.431372f, 0.0f,
                  0.327073f,  -0.430603f, 0.0f, 0.325388f,   -0.429615f, 0.0f, 0.323906f,   -0.428407f, 0.0f,
                  0.322628f,  -0.42698f,  0.0f, 0.321535f,   -0.425309f, 0.0f, 0.320611f,   -0.423372f, 0.0f,
                  0.319855f,  -0.421167f, 0.0f, 0.319266f,   -0.418696f, 0.0f, 0.318846f,   -0.415959f, 0.0f,
                  0.318594f,  -0.412954f, 0.0f, 0.31851f,    -0.409683f, 0.0f, 0.318615f,   -0.406544f, 0.0f,
                  0.318929f,  -0.403607f, 0.0f, 0.319452f,   -0.400872f, 0.0f, 0.320185f,   -0.398339f, 0.0f,
                  0.321127f,  -0.396008f, 0.0f, 0.322279f,   -0.393878f, 0.0f, 0.32364f,    -0.391951f, 0.0f,
                  0.32521f,   -0.390256f, 0.0f, 0.32699f,    -0.388821f, 0.0f, 0.328979f,   -0.387647f, 0.0f,
                  0.331177f,  -0.386734f, 0.0f, 0.333585f,   -0.386082f, 0.0f, 0.336201f,   -0.38569f,  0.0f,
                  0.339027f,  -0.38556f,  0.0f, 0.33976f,    -0.38557f,  0.0f, 0.340513f,   -0.385601f, 0.0f,
                  0.341287f,  -0.385653f, 0.0f, 0.342082f,   -0.385725f, 0.0f, 0.342898f,   -0.385818f, 0.0f,
                  0.343734f,  -0.385932f, 0.0f, 0.34459f,    -0.386066f, 0.0f, 0.345452f,   -0.386224f, 0.0f,
                  0.346301f,  -0.386408f, 0.0f, 0.347138f,   -0.386619f, 0.0f, 0.347964f,   -0.386856f, 0.0f,
                  0.348778f,  -0.387119f, 0.0f, 0.34958f,    -0.387409f, 0.0f, 0.35037f,    -0.387726f, 0.0f,
                  0.35037f,   -0.427522f, 0.0f };

// 486 faces
int faces[] = { 66,  67,  6,   1, 1, 65,  66,  6,   1, 1, 64,  65,  6,   1, 1, 63,  64,  6,   1, 1, 62,  63,  6,   1, 1,
                61,  62,  6,   1, 1, 113, 61,  6,   1, 1, 112, 113, 6,   1, 1, 111, 112, 6,   1, 1, 5,   6,   67,  1, 1,
                4,   5,   67,  1, 1, 3,   4,   67,  1, 1, 2,   3,   67,  1, 1, 1,   2,   67,  1, 1, 0,   1,   67,  1, 1,
                60,  0,   67,  1, 1, 59,  60,  67,  1, 1, 110, 111, 6,   1, 1, 58,  59,  67,  1, 1, 57,  58,  67,  1, 1,
                56,  57,  67,  1, 1, 55,  56,  67,  1, 1, 54,  55,  67,  1, 1, 53,  54,  67,  1, 1, 52,  53,  67,  1, 1,
                109, 110, 6,   1, 1, 51,  52,  67,  1, 1, 50,  51,  67,  1, 1, 49,  50,  67,  1, 1, 48,  49,  67,  1, 1,
                48,  67,  68,  1, 2, 47,  48,  68,  1, 1, 46,  47,  68,  1, 1, 46,  68,  69,  1, 2, 45,  46,  69,  1, 1,
                45,  69,  70,  1, 2, 44,  45,  70,  1, 1, 44,  70,  71,  1, 2, 43,  44,  71,  1, 1, 43,  71,  72,  1, 2,
                42,  43,  72,  1, 1, 42,  72,  73,  1, 2, 41,  42,  73,  1, 1, 41,  73,  74,  1, 2, 40,  41,  74,  1, 1,
                40,  74,  75,  1, 2, 39,  40,  75,  1, 1, 38,  39,  75,  1, 1, 38,  75,  76,  1, 2, 37,  38,  76,  1, 1,
                37,  76,  77,  1, 2, 36,  37,  77,  1, 1, 36,  77,  78,  1, 2, 35,  36,  78,  1, 1, 35,  78,  79,  1, 2,
                34,  35,  79,  1, 1, 34,  79,  80,  1, 2, 109, 6,   7,   1, 2, 108, 109, 7,   1, 1, 108, 7,   8,   1, 2,
                108, 8,   9,   1, 2, 108, 9,   10,  1, 2, 107, 108, 10,  1, 1, 107, 10,  11,  1, 2, 107, 11,  12,  1, 2,
                106, 107, 12,  1, 1, 106, 12,  13,  1, 2, 106, 13,  14,  1, 2, 105, 106, 14,  1, 1, 105, 14,  15,  1, 2,
                104, 105, 15,  1, 1, 104, 15,  16,  1, 2, 104, 16,  17,  1, 2, 103, 104, 17,  1, 1, 103, 17,  18,  1, 2,
                103, 18,  19,  1, 2, 102, 103, 19,  1, 1, 102, 19,  20,  1, 2, 101, 102, 20,  1, 1, 101, 20,  21,  1, 2,
                100, 101, 21,  1, 1, 100, 21,  22,  1, 2, 99,  100, 22,  1, 1, 99,  22,  23,  1, 2, 98,  99,  23,  1, 1,
                98,  23,  24,  1, 2, 97,  98,  24,  1, 1, 97,  24,  25,  1, 2, 96,  97,  25,  1, 1, 96,  25,  26,  1, 2,
                95,  96,  26,  1, 1, 94,  95,  26,  1, 1, 94,  26,  27,  1, 2, 93,  94,  27,  1, 1, 34,  80,  81,  1, 2,
                33,  34,  81,  1, 1, 33,  81,  82,  1, 2, 32,  33,  82,  1, 1, 32,  82,  83,  1, 2, 32,  83,  84,  1, 2,
                31,  32,  84,  1, 1, 31,  84,  85,  1, 2, 31,  85,  86,  1, 2, 31,  86,  87,  1, 2, 31,  87,  88,  1, 2,
                31,  88,  89,  1, 2, 93,  27,  28,  1, 2, 92,  93,  28,  1, 1, 91,  92,  28,  1, 1, 90,  91,  28,  1, 1,
                90,  28,  29,  1, 2, 89,  90,  29,  1, 1, 31,  89,  29,  1, 0, 30,  31,  29,  1, 5, 167, 120, 121, 1, 2,
                215, 216, 167, 1, 3, 214, 215, 167, 1, 1, 167, 121, 122, 1, 2, 167, 122, 123, 1, 2, 167, 123, 124, 1, 2,
                214, 167, 124, 1, 0, 214, 124, 125, 1, 2, 214, 125, 126, 1, 2, 214, 126, 127, 1, 2, 214, 127, 128, 1, 2,
                214, 128, 129, 1, 2, 214, 129, 130, 1, 2, 214, 130, 131, 1, 2, 214, 131, 132, 1, 2, 214, 132, 133, 1, 2,
                214, 133, 134, 1, 2, 214, 134, 135, 1, 2, 214, 135, 136, 1, 2, 214, 136, 137, 1, 2, 214, 137, 138, 1, 2,
                120, 167, 168, 1, 2, 214, 138, 139, 1, 2, 213, 214, 139, 1, 1, 213, 139, 140, 1, 2, 213, 140, 141, 1, 2,
                213, 141, 142, 1, 2, 120, 168, 169, 1, 2, 211, 212, 213, 1, 3, 210, 211, 213, 1, 1, 210, 213, 142, 1, 0,
                210, 142, 143, 1, 2, 209, 210, 143, 1, 1, 209, 143, 144, 1, 2, 209, 144, 145, 1, 2, 208, 209, 145, 1, 1,
                208, 145, 146, 1, 2, 208, 146, 147, 1, 2, 207, 208, 147, 1, 1, 207, 147, 148, 1, 2, 120, 169, 170, 1, 2,
                206, 207, 148, 1, 1, 206, 148, 149, 1, 2, 206, 149, 150, 1, 2, 205, 206, 150, 1, 1, 205, 150, 151, 1, 2,
                120, 170, 171, 1, 2, 204, 205, 151, 1, 1, 204, 151, 152, 1, 2, 204, 152, 153, 1, 2, 203, 204, 153, 1, 1,
                120, 171, 172, 1, 2, 119, 120, 172, 1, 1, 119, 172, 173, 1, 2, 118, 119, 173, 1, 1, 118, 173, 174, 1, 2,
                118, 174, 175, 1, 2, 117, 118, 175, 1, 1, 117, 175, 176, 1, 2, 116, 117, 176, 1, 1, 116, 176, 177, 1, 2,
                115, 116, 177, 1, 1, 115, 177, 178, 1, 2, 115, 178, 179, 1, 2, 114, 115, 179, 1, 1, 114, 179, 180, 1, 2,
                166, 114, 180, 1, 1, 165, 166, 180, 1, 1, 165, 180, 181, 1, 2, 164, 165, 181, 1, 1, 164, 181, 182, 1, 2,
                164, 182, 183, 1, 2, 163, 164, 183, 1, 1, 163, 183, 184, 1, 2, 163, 184, 185, 1, 2, 162, 163, 185, 1, 1,
                162, 185, 186, 1, 2, 162, 186, 187, 1, 2, 161, 162, 187, 1, 1, 161, 187, 188, 1, 2, 161, 188, 189, 1, 2,
                161, 189, 190, 1, 2, 160, 161, 190, 1, 1, 160, 190, 191, 1, 2, 160, 191, 192, 1, 2, 159, 160, 192, 1, 1,
                159, 192, 193, 1, 2, 159, 193, 194, 1, 2, 159, 194, 195, 1, 2, 158, 159, 195, 1, 1, 158, 195, 196, 1, 2,
                157, 158, 196, 1, 1, 157, 196, 197, 1, 2, 157, 197, 198, 1, 2, 156, 157, 198, 1, 1, 156, 198, 199, 1, 2,
                156, 199, 200, 1, 2, 155, 156, 200, 1, 1, 155, 200, 201, 1, 2, 155, 201, 202, 1, 2, 154, 155, 202, 1, 1,
                154, 202, 203, 1, 2, 154, 203, 153, 1, 4, 223, 224, 217, 1, 3, 223, 217, 218, 1, 2, 221, 222, 223, 1, 3,
                220, 221, 223, 1, 1, 220, 223, 218, 1, 0, 219, 220, 218, 1, 5, 233, 234, 225, 1, 3, 233, 225, 226, 1, 2,
                233, 226, 227, 1, 2, 232, 233, 227, 1, 1, 230, 231, 232, 1, 3, 229, 230, 232, 1, 1, 229, 232, 227, 1, 0,
                228, 229, 227, 1, 5, 237, 238, 235, 1, 3, 236, 237, 235, 1, 5, 241, 242, 239, 1, 3, 241, 239, 240, 1, 6,
                359, 331, 243, 1, 1, 359, 243, 244, 1, 2, 359, 244, 245, 1, 2, 358, 359, 245, 1, 1, 358, 245, 246, 1, 2,
                357, 358, 246, 1, 1, 357, 246, 247, 1, 2, 357, 247, 248, 1, 2, 356, 357, 248, 1, 1, 356, 248, 249, 1, 2,
                355, 356, 249, 1, 1, 355, 249, 250, 1, 2, 354, 355, 250, 1, 1, 354, 250, 251, 1, 2, 353, 354, 251, 1, 1,
                353, 251, 252, 1, 2, 352, 353, 252, 1, 1, 352, 252, 253, 1, 2, 351, 352, 253, 1, 1, 351, 253, 254, 1, 2,
                350, 351, 254, 1, 1, 350, 254, 255, 1, 2, 349, 350, 255, 1, 1, 349, 255, 256, 1, 2, 348, 349, 256, 1, 1,
                347, 348, 256, 1, 1, 347, 256, 257, 1, 2, 346, 347, 257, 1, 1, 346, 257, 258, 1, 2, 345, 346, 258, 1, 1,
                344, 345, 258, 1, 1, 344, 258, 259, 1, 2, 343, 344, 259, 1, 1, 342, 343, 259, 1, 1, 342, 259, 260, 1, 2,
                341, 342, 260, 1, 1, 340, 341, 260, 1, 1, 340, 260, 261, 1, 2, 339, 340, 261, 1, 1, 329, 330, 243, 1, 3,
                329, 243, 331, 1, 0, 299, 300, 301, 1, 3, 299, 301, 302, 1, 2, 299, 302, 303, 1, 2, 299, 303, 304, 1, 2,
                299, 304, 305, 1, 2, 298, 299, 305, 1, 1, 298, 305, 306, 1, 2, 297, 298, 306, 1, 1, 297, 306, 307, 1, 2,
                296, 297, 307, 1, 1, 296, 307, 308, 1, 2, 295, 296, 308, 1, 1, 295, 308, 309, 1, 2, 294, 295, 309, 1, 1,
                293, 294, 309, 1, 1, 293, 309, 310, 1, 2, 292, 293, 310, 1, 1, 292, 310, 311, 1, 2, 291, 292, 311, 1, 1,
                291, 311, 312, 1, 2, 290, 291, 312, 1, 1, 289, 290, 312, 1, 1, 289, 312, 313, 1, 2, 288, 289, 313, 1, 1,
                288, 313, 314, 1, 2, 287, 288, 314, 1, 1, 287, 314, 315, 1, 2, 286, 287, 315, 1, 1, 285, 286, 315, 1, 1,
                285, 315, 316, 1, 2, 284, 285, 316, 1, 1, 284, 316, 317, 1, 2, 283, 284, 317, 1, 1, 283, 317, 318, 1, 2,
                283, 318, 319, 1, 2, 282, 283, 319, 1, 1, 282, 319, 320, 1, 2, 281, 282, 320, 1, 1, 281, 320, 321, 1, 2,
                339, 261, 262, 1, 2, 338, 339, 262, 1, 1, 280, 281, 321, 1, 1, 280, 321, 322, 1, 2, 337, 338, 262, 1, 1,
                337, 262, 263, 1, 2, 336, 337, 263, 1, 1, 336, 263, 264, 1, 2, 335, 336, 264, 1, 1, 335, 264, 265, 1, 2,
                334, 335, 265, 1, 1, 334, 265, 266, 1, 2, 333, 334, 266, 1, 1, 333, 266, 267, 1, 2, 332, 333, 267, 1, 1,
                332, 267, 268, 1, 2, 331, 332, 268, 1, 1, 331, 268, 269, 1, 2, 329, 331, 269, 1, 0, 329, 269, 270, 1, 2,
                329, 270, 271, 1, 2, 329, 271, 272, 1, 2, 329, 272, 273, 1, 2, 328, 329, 273, 1, 1, 328, 273, 274, 1, 2,
                327, 328, 274, 1, 1, 327, 274, 275, 1, 2, 326, 327, 275, 1, 1, 326, 275, 276, 1, 2, 326, 276, 277, 1, 2,
                325, 326, 277, 1, 1, 325, 277, 278, 1, 2, 324, 325, 278, 1, 1, 324, 278, 279, 1, 2, 323, 324, 279, 1, 1,
                323, 279, 280, 1, 2, 323, 280, 322, 1, 4, 362, 363, 360, 1, 3, 361, 362, 360, 1, 5, 364, 487, 488, 1, 2,
                364, 488, 489, 1, 2, 364, 489, 490, 1, 2, 364, 490, 491, 1, 2, 364, 491, 492, 1, 2, 364, 492, 493, 1, 2,
                364, 493, 494, 1, 2, 438, 364, 494, 1, 1, 438, 494, 495, 1, 2, 436, 437, 438, 1, 3, 436, 438, 495, 1, 0,
                436, 495, 439, 1, 2, 436, 439, 440, 1, 2, 436, 440, 441, 1, 2, 436, 441, 442, 1, 2, 436, 442, 443, 1, 2,
                364, 365, 366, 1, 3, 487, 364, 366, 1, 0, 436, 443, 444, 1, 2, 487, 366, 367, 1, 2, 486, 487, 367, 1, 1,
                486, 367, 368, 1, 2, 485, 486, 368, 1, 1, 485, 368, 369, 1, 2, 484, 485, 369, 1, 1, 484, 369, 370, 1, 2,
                483, 484, 370, 1, 1, 482, 483, 370, 1, 1, 482, 370, 371, 1, 2, 481, 482, 371, 1, 1, 481, 371, 372, 1, 2,
                480, 481, 372, 1, 1, 436, 444, 445, 1, 2, 435, 436, 445, 1, 1, 435, 445, 446, 1, 2, 434, 435, 446, 1, 1,
                434, 446, 447, 1, 2, 480, 372, 373, 1, 2, 479, 480, 373, 1, 1, 479, 373, 374, 1, 2, 479, 374, 375, 1, 2,
                479, 375, 376, 1, 2, 479, 376, 377, 1, 2, 478, 479, 377, 1, 1, 478, 377, 378, 1, 2, 478, 378, 379, 1, 2,
                477, 478, 379, 1, 1, 477, 379, 380, 1, 2, 477, 380, 381, 1, 2, 477, 381, 382, 1, 2, 476, 477, 382, 1, 1,
                476, 382, 383, 1, 2, 476, 383, 384, 1, 2, 476, 384, 385, 1, 2, 475, 476, 385, 1, 1, 475, 385, 386, 1, 2,
                475, 386, 387, 1, 2, 474, 475, 387, 1, 1, 474, 387, 388, 1, 2, 474, 388, 389, 1, 2, 474, 389, 390, 1, 2,
                473, 474, 390, 1, 1, 473, 390, 391, 1, 2, 473, 391, 392, 1, 2, 473, 392, 393, 1, 2, 472, 473, 393, 1, 1,
                472, 393, 394, 1, 2, 472, 394, 395, 1, 2, 472, 395, 396, 1, 2, 471, 472, 396, 1, 1, 471, 396, 397, 1, 2,
                471, 397, 398, 1, 2, 470, 471, 398, 1, 1, 470, 398, 399, 1, 2, 470, 399, 400, 1, 2, 470, 400, 401, 1, 2,
                469, 470, 401, 1, 1, 469, 401, 402, 1, 2, 469, 402, 403, 1, 2, 468, 469, 403, 1, 1, 468, 403, 404, 1, 2,
                468, 404, 405, 1, 2, 467, 468, 405, 1, 1, 467, 405, 406, 1, 2, 467, 406, 407, 1, 2, 466, 467, 407, 1, 1,
                466, 407, 408, 1, 2, 466, 408, 409, 1, 2, 465, 466, 409, 1, 1, 465, 409, 410, 1, 2, 464, 465, 410, 1, 1,
                464, 410, 411, 1, 2, 463, 464, 411, 1, 1, 463, 411, 412, 1, 2, 462, 463, 412, 1, 1, 462, 412, 413, 1, 2,
                461, 462, 413, 1, 1, 461, 413, 414, 1, 2, 460, 461, 414, 1, 1, 460, 414, 415, 1, 2, 460, 415, 416, 1, 2,
                459, 460, 416, 1, 1, 459, 416, 417, 1, 2, 458, 459, 417, 1, 1, 458, 417, 418, 1, 2, 458, 418, 419, 1, 2,
                457, 458, 419, 1, 1, 457, 419, 420, 1, 2, 457, 420, 421, 1, 2, 456, 457, 421, 1, 1, 456, 421, 422, 1, 2,
                455, 456, 422, 1, 1, 455, 422, 423, 1, 2, 455, 423, 424, 1, 2, 454, 455, 424, 1, 1, 454, 424, 425, 1, 2,
                454, 425, 426, 1, 2, 453, 454, 426, 1, 1, 453, 426, 427, 1, 2, 453, 427, 428, 1, 2, 453, 428, 429, 1, 2,
                452, 453, 429, 1, 1, 452, 429, 430, 1, 2, 452, 430, 431, 1, 2, 451, 452, 431, 1, 1, 451, 431, 432, 1, 2,
                450, 451, 432, 1, 1, 450, 432, 433, 1, 2, 449, 450, 433, 1, 1, 448, 449, 433, 1, 1, 448, 433, 434, 1, 2,
                448, 434, 447, 1, 4 };

#if MAX_VERSION_MAJOR >= 25
MaxSDK::SharedMeshPtr g_globalMesh;
#else
Mesh g_globalMesh;
#endif
} // namespace

namespace krakatoa {
namespace max3d {

// Defined in PRTObjectIconMesh.cpp in KraktaoaMX_SDK project.
void build_icon_mesh( Mesh& outMesh, float verts[], int faces[], int vertCount, int faceCount );

} // namespace max3d
} // namespace krakatoa

namespace ember {
namespace max3d {

#if MAX_VERSION_MAJOR >= 25
static void InitializeIconMesh() {
    if( !g_globalMesh ) {
        g_globalMesh = new MaxSDK::SharedMesh();
        int vertCount = sizeof( verts ) / sizeof( verts[0] ) / 3;
        int faceCount = sizeof( faces ) / sizeof( faces[0] ) / 5;

        krakatoa::max3d::build_icon_mesh( g_globalMesh->GetMesh(), verts, faces, vertCount, faceCount );

        g_globalMesh->GetMesh().buildBoundingBox();
    }
}

Mesh* GetPRTEmberIconMesh() {
    InitializeIconMesh();
    return g_globalMesh->GetMeshPtr();
}

MaxSDK::SharedMeshPtr GetPRTEmberIconMeshShared() {
    InitializeIconMesh();
    return g_globalMesh;
}
#else
Mesh* GetPRTEmberIconMesh() {
    if( g_globalMesh.getNumVerts() == 0 ) {
        int vertCount = sizeof( verts ) / sizeof( verts[0] ) / 3;
        int faceCount = sizeof( faces ) / sizeof( faces[0] ) / 5;

        krakatoa::max3d::build_icon_mesh( g_globalMesh, verts, faces, vertCount, faceCount );

        g_globalMesh.buildBoundingBox();
    }

    return &g_globalMesh;
}
#endif

} // namespace max3d
} // namespace ember
